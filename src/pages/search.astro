---
export const prerender = false;

import Layout from "../layouts/Layout.astro";

const search = Astro.url.searchParams.get("q")! || "";

if (search.length > 0) {
  return Astro.redirect(`https://duckduckgo.com/?q=site%3Awackomenace.co.uk+${encodeURIComponent(search)}&ia=web`);
}
---

<Layout title="Search wackomenace" description="Search this site using DuckDuckGo.">
  <div>
    <h1 class="text-7xl leading-snug hyphens-auto text-transparent bg-clip-text bg-gradient-to-r from-pink-600 to-purple-300 mb-6">Search</h1>
    <form method="get" class="mb-6">
      <input type="search" name="q" class="mt-1 mb-4 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm text-slate-600 focus:outline-none focus:border-sky-500 focus:ring-1 focus:ring-sky-500">
      <button type="submit" class="px-4 py-2 border rounded-md border-slate-600 bg-slate-600 dark:border-slate-300 dark:bg-slate-300 text-white dark:text-slate-600">Search</button>
    </form>
    <p class="text-sm">Powered by <a href="https://duckduckgo.com" target="_blank" rel="noopener noreferer">DuckDuckGo</a>.</p>
  </div>
</Layout>
