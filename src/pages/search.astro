---
export const prerender = false;

import Layout from "../layouts/Layout.astro";

const search = Astro.url.searchParams.get("q")! || "";

if (search.length > 0) {
  return Astro.redirect(`https://duckduckgo.com/?q=site%3Awackomenace.co.uk+${encodeURIComponent(search)}&ia=web`);
}
---

<Layout title="Search wackomenace" description="Search this site using DuckDuckGo.">
  <div>
    <h1 class="text-4xl mb-6">Search</h1>
    <form method="get">
      <input type="search" name="q" class="mt-1 mb-4 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm text-slate-600 focus:outline-none focus:border-sky-500 focus:ring-1 focus:ring-sky-500">
      <button type="submit" class="px-4 py-2 border rounded-md border-slate-600 bg-slate-600 dark:border-slate-200 dark:bg-slate-200 text-white dark:text-slate-600 hover:border-slate-900 hover:bg-slate-900 hover:text-white dark:hover:border-slate-500 dark:hover:bg-slate-500 transition duration-300 ease-in-out">Search</button>
    </form>
  </div>
</Layout>
