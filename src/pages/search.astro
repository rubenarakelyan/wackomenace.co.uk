---
import Layout from "../layouts/Layout.astro";

const search = Astro.url.searchParams.get("q")! || "";

if (search.length > 0) {
  return Astro.redirect(`https://www.ecosia.org/search?q=site%3Awackomenace.co.uk+${encodeURIComponent(search)}`);
}
---

<Layout title="Search wackomenace" description="Search this site using Ecosia.">
  <section class="max-w-[60vw] mx-auto">
    <header class="m-8">
      <h1 class="mb-6 text-6xl font-bold">Search</h1>
    </header>
    <p class="mx-8 mb-8 text-lg">Search this site using Ecosia.</p>
    <form method="get" class="mx-8 mb-8 text-2xl">
      <input type="text" name="q" class="border border-slate-300 rounded-md p-4">
      <button type="submit" class="bg-slate-900 text-white rounded-md p-4">Search</button>
    </form>
  </section>
</Layout>
