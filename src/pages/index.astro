---
import { getCollection } from "astro:content";

import Layout from "../layouts/Layout.astro";
import BlogPostPreview from "../components/BlogPostPreview.astro";

const posts = (await getCollection("blog")).sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf()).slice(0, 5);
---

<Layout title="Ruben Arakelyan’s home on the web" description="Welcome to Ruben Arakelyan’s home on the web">
  <section>
    <h1>👋 Hi, I’m Ruben</h1>
    <div class="h-card">
      <p>Hello, I’m <a class="p-name u-url u-uid" href="/">Ruben Arakelyan</a> and this is wackomenace<a href="https://trademarks.ipo.gov.uk/ipo-tmcase/page/Results/1/UK00003874721" target="_blank" aria-label="opens in a new tab">®</a>, my home on the web. <span class="p-note">I’m 💜&nbsp;husband to <a href="https://www.relocatetocornwall.co.uk/?utm_source=wackomenace.co.uk&utm_medium=website&utm_content=textlink" target="_blank" rel="spouse" aria-label="opens in a new tab">Joanna</a>, 👧&nbsp;dad to Evie, 🐕&nbsp;dog-father to Saffy, ✟&nbsp;Christian, 🇦🇲&nbsp;Armenian, and Principal of <a href="https://www.safran.agency/?utm_source=wackomenace.co.uk&utm_medium=website&utm_content=textlink" target="_blank" aria-label="opens in a new tab">Safran</a>, a web app development agency, in no particular order; originally from London but now living near 🌊&nbsp;St Ives in Cornwall.</span></p>
    </div>
    <p><strong role="heading" aria-level="2">Want to hire me?</strong> Take a look at <a href="https://www.linkedin.com/in/rubenarakelyan/" target="_blank" rel="me" aria-label="opens in a new tab">my LinkedIn profile</a> and <a href="mailto:ruben@arakelyan.uk">let’s chat</a>.</p>
    <p><strong role="heading" aria-level="2">Want me to read your blog?</strong> If you’ve just started a blog, <a href="mailto:ruben@arakelyan.uk">send it to me</a> and I’ll happily be <a href="https://manuelmoreale.com/i-ll-read-it" target="_blank" aria-label="opens in a new tab">your first reader</a>.</p>
    <p><strong role="heading" aria-level="2">Want to just chat?</strong> <a href="mailto:ruben@arakelyan.uk">Hit me up</a> (and use <a href="/pgpkey.asc">my PGP key</a> if you like).</p>
  </section>
  <section>
    <h2>Blog posts</h2>
    {
      posts.map(post => (
        <BlogPostPreview
          homepage={true}
          url={"/blog/" + post.id + "/"}
          title={post.data.title}
          excerpt={post.data.excerpt}
          date={post.data.date}
        />
      ))
    }
    <p><a href="/blog/">Read more blog posts &rarr;</a></p>
  </section>
</Layout>
